<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>requests</title>
    <link rel="stylesheet" th:href="@{/css/user/profind/find_info.css}">
    <link rel="stylesheet" th:href="@{/css/main/common.css}">
    <link rel="stylesheet" th:href="@{/css/layout/header.css}">
    <link rel="stylesheet" th:href="@{/css/user/req_list/received_req_info.css}">
    <link rel="stylesheet" th:href="@{/css/user/mypage/certify.css}">
    <link rel="stylesheet" th:href="@{/css/user/upload/receiveform.css}">
    <link rel="stylesheet" th:href="@{/css/user/mypage/edit.css}">
    <link rel="stylesheet" th:href="@{/css/user/mypage/withdrawmodal.css}">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+KR&display=swap" rel="stylesheet">
    <!--    <link rel="stylesheet" href="/static/css/common(2)/font.css">-->
    <style>
        .hidden {
            height: 100%;
            min-height: 100%;
            overflow: hidden !important;
            touch-action: none;
        }
    </style>
</head>
<body>
<div th:replace="~{/layout/header :: header}"></div>
<div class="request-header">
    <div class="request-header-inner">
        <div class="service-title">
            <h2 th:text="${proUpload.proUploadTitle}"></h2>
        </div>
        <div class="received-date">
            <div class="date-badge">올린 날짜</div>
            <div class="date" th:text="${proUpload.proUploadDate}"></div>
        </div>
    </div>
</div>
<div class="container">
    <div class="page-body">
        <div class="info">
            <div class="request-info">
                <!-- 전문가 정보 -->
                <div class="pro-info">
                    <div class="pro-pic">
                        <img src="https://dmmj3ljielax6.cloudfront.net/upload/requestForm/25f0e364-93ad-4d49-b710-3a2f073dc547.svg">
                    </div>
                    <div class="pro-name-rate">
                        <input type="hidden" name="proId" th:value="${proUpload.proId}">
                        <div class="pro-name" th:text="${proUpload.proName}"></div>
                        <div class="service-address">
                            <div class="service-name" th:text="${proUpload.serviceName}"></div>
                            <div class="address">
                                <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMCAyMGgyMFYwSDB6Ii8+PGcgc3Ryb2tlPSIjNzM3MzczIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiI+PHBhdGggZD0iTTE2LjIxOCA3LjI3NGMwIDQuOTQzLTUuODMzIDEwLjIyNi01LjgzMyAxMC4yMjZTNC41NSAxMi41NDIgNC41NSA3LjI3NGMwLTMuMDk3IDIuNjEyLTUuNjA3IDUuODM0LTUuNjA3IDMuMjIxIDAgNS44MzMgMi41MSA1LjgzMyA1LjYwN3oiLz48cGF0aCBkPSJNMTIuNjI4IDcuOTE3YTIuMDg0IDIuMDg0IDAgMTEtNC4xNjctLjAwMSAyLjA4NCAyLjA4NCAwIDAxNC4xNjcgMHoiLz48L2c+PC9nPjwvc3ZnPg=="
                                     alt="">
                                <span th:text="${proUpload.region}+' '+${proUpload.city}">경북 포항시</span>
                            </div>
                        </div>
                        <div class="pro-rate">
                            <div class="hired-cnt">
                                <div class="pro-rate-title">고용 횟수</div>
                                <div class="pro-rate-info" th:text="${proUpload.empCnt}+'회'"></div>
                            </div>
                            <div class="rate">
                                <div class="pro-rate-title">별점</div>
                                <div class="pro-rate-info">
                                    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Im03LjQ5NiAxLjU5NiAxLjQwNyAyLjc0MiAzLjE0NS40NGMuOTEuMTI3IDEuMjc1IDEuMjA0LjYxNSAxLjgyMmwtMi4yNzYgMi4xMzQuNTM4IDMuMDE1Yy4xNTUuODcyLS43OTcgMS41MzgtMS42MTIgMS4xMjZMNi41IDExLjQ1MmwtMi44MTMgMS40MjNjLS44MTUuNDEyLTEuNzY3LS4yNTQtMS42MTItMS4xMjZsLjUzOC0zLjAxNUwuMzM3IDYuNmMtLjY2LS42MTgtLjI5Ni0xLjY5NS42MTUtMS44MjJsMy4xNDUtLjQ0IDEuNDA3LTIuNzQyQzUuOTEyLjggNy4wODguOCA3LjQ5NiAxLjU5NiIgZmlsbD0iI0ZGQ0UyMSIgZmlsbC1ydWxlPSJldmVub2RkIi8+Cjwvc3ZnPgo="
                                         alt="">
                                    <span th:text="${proUpload.proStarRate}"></span>
                                    <span class="count">(15)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 전문가가 보낸 요청 내용 -->
                <div class="request-content-body">
                    <div class="request-content">
                        <h2>요청 내용</h2>
                        <div th:text="${proUpload.proUploadContent}"></div>
                    </div>
                    <!-- 경력 및 수상 내역 -->
                    <div class="carrer-body">
                        <div class="carrer-header">
                            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0xMi42OCAzYzIuMTMzIDAgMy44OTggMS41NSAzLjg5OCAzLjUxMmwtLjAwMS40OTloNC4yODNjLjMyMSAwIC41ODcuMjQyLjYzMy41NTZsLjAwNy4wOTZ2MTEuNjg1YzAgLjM2LS4yODYuNjUyLS42NC42NTJIMy4xNGEuNjQ2LjY0NiAwIDAgMS0uNjQtLjY1MlY3LjY2M2MwLS4zNi4yODYtLjY1MS42NC0uNjUxbDQuMjgyLS4wMDF2LS40OTljMC0xLjkgMS42NTMtMy40MTIgMy42OTMtMy41MDdMMTEuMzIgM3pNNy45MTQgMTQuODM0SDMuNzc5djMuODYySDIwLjIydi0zLjg2MmgtNC4xMzV2Ljg1M2MwIC4zNi0uMjg2LjY1MS0uNjQuNjUxYS42NDQuNjQ0IDAgMCAxLS42MzItLjU1NWwtLjAwNy0uMDk2LS4wMDEtLjg1M0g5LjE5NHYuODUzYzAgLjM2LS4yODYuNjUxLS42NC42NTFhLjY0NC42NDQgMCAwIDEtLjYzMy0uNTU1bC0uMDA2LS4wOTYtLjAwMS0uODUzek0yMC4yMiA4LjMxNUgzLjc4bC0uMDAxIDUuMjE1aDQuMTM1di0uODUyYzAtLjM2LjI4Ny0uNjUyLjY0LS42NTIuMzIyIDAgLjU4OC4yNDEuNjMzLjU1NmwuMDA3LjA5NnYuODUyaDUuNjExdi0uODUyYzAtLjM2LjI4Ny0uNjUyLjY0LS42NTIuMzIyIDAgLjU4OC4yNDEuNjM0LjU1NmwuMDA2LjA5NnYuODUyaDQuMTM1VjguMzE1em0tNy41NC00LjAxMWgtMS4zNmMtMS40NjUgMC0yLjYxOCAxLjAxMi0yLjYxOCAyLjIwOHYuNWg2LjU5NnYtLjVjMC0xLjE0OC0xLjA2My0yLjEyNy0yLjQ0NC0yLjIwM2wtLjE3NC0uMDA1eiIgZmlsbD0iIzAwQzdBRSIgZmlsbC1ydWxlPSJldmVub2RkIi8+Cjwvc3ZnPgo="
                                 alt="">
                            <h3>경력</h3>
                        </div>
                        <div class="carrer-content">
                            <ul>
                                <li th:each="item : ${careerInfo}" th:text="${item.award}"></li>
                            </ul>
                        </div>
                    </div>
                    <!-- 자격증 -->
                    <div class="certificate-image">
                        <h2>자격증 및 기타 서류</h2>
                        <ul class="image-veiwer">
                            <li th:each="proCardInfoFile : ${proCardInfoFiles}">
                                <img th:src="${proCardInfoFile.cardInfoFileRoute}" alt="이미지">
                                <!--                                    여기 부분 사진 받아오기-->
                            </li>
                        </ul>
                    </div>
                </div>
                <!-- 사진 -->
                <div class="pro-photos">
                    <div class="photos-container">
                        <h2>사진</h2>
                        <div>
                            <ul class="image-veiwer">
                                <li th:each="proUploadFile : ${proUploadFiles}">
                                    <img th:src="${proUploadFile.proUploadFileRoute}" alt="이미지">
                                    <!--                                    여기 부분 사진 받아오기-->
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- 리뷰 -->
                <div class="reviews">
                    <h2>리뷰</h2>
                    <div class="review-list">
                        <div class="summary">
                            <div class="avg">4.5</div>
                            <div class="review-star">
                                <ul>
                                    <li>
                                        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Im03LjQ5NiAxLjU5NiAxLjQwNyAyLjc0MiAzLjE0NS40NGMuOTEuMTI3IDEuMjc1IDEuMjA0LjYxNSAxLjgyMmwtMi4yNzYgMi4xMzQuNTM4IDMuMDE1Yy4xNTUuODcyLS43OTcgMS41MzgtMS42MTIgMS4xMjZMNi41IDExLjQ1MmwtMi44MTMgMS40MjNjLS44MTUuNDEyLTEuNzY3LS4yNTQtMS42MTItMS4xMjZsLjUzOC0zLjAxNUwuMzM3IDYuNmMtLjY2LS42MTgtLjI5Ni0xLjY5NS42MTUtMS44MjJsMy4xNDUtLjQ0IDEuNDA3LTIuNzQyQzUuOTEyLjggNy4wODguOCA3LjQ5NiAxLjU5NiIgZmlsbD0iI0ZGQ0UyMSIgZmlsbC1ydWxlPSJldmVub2RkIi8+Cjwvc3ZnPgo="
                                             alt="">
                                    </li>
                                    <li>
                                        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Im03LjQ5NiAxLjU5NiAxLjQwNyAyLjc0MiAzLjE0NS40NGMuOTEuMTI3IDEuMjc1IDEuMjA0LjYxNSAxLjgyMmwtMi4yNzYgMi4xMzQuNTM4IDMuMDE1Yy4xNTUuODcyLS43OTcgMS41MzgtMS42MTIgMS4xMjZMNi41IDExLjQ1MmwtMi44MTMgMS40MjNjLS44MTUuNDEyLTEuNzY3LS4yNTQtMS42MTItMS4xMjZsLjUzOC0zLjAxNUwuMzM3IDYuNmMtLjY2LS42MTgtLjI5Ni0xLjY5NS42MTUtMS44MjJsMy4xNDUtLjQ0IDEuNDA3LTIuNzQyQzUuOTEyLjggNy4wODguOCA3LjQ5NiAxLjU5NiIgZmlsbD0iI0ZGQ0UyMSIgZmlsbC1ydWxlPSJldmVub2RkIi8+Cjwvc3ZnPgo="
                                             alt="">
                                    </li>
                                    <li>
                                        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Im03LjQ5NiAxLjU5NiAxLjQwNyAyLjc0MiAzLjE0NS40NGMuOTEuMTI3IDEuMjc1IDEuMjA0LjYxNSAxLjgyMmwtMi4yNzYgMi4xMzQuNTM4IDMuMDE1Yy4xNTUuODcyLS43OTcgMS41MzgtMS42MTIgMS4xMjZMNi41IDExLjQ1MmwtMi44MTMgMS40MjNjLS44MTUuNDEyLTEuNzY3LS4yNTQtMS42MTItMS4xMjZsLjUzOC0zLjAxNUwuMzM3IDYuNmMtLjY2LS42MTgtLjI5Ni0xLjY5NS42MTUtMS44MjJsMy4xNDUtLjQ0IDEuNDA3LTIuNzQyQzUuOTEyLjggNy4wODguOCA3LjQ5NiAxLjU5NiIgZmlsbD0iI0ZGQ0UyMSIgZmlsbC1ydWxlPSJldmVub2RkIi8+Cjwvc3ZnPgo="
                                             alt="">
                                    </li>
                                    <li>
                                        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Im03LjQ5NiAxLjU5NiAxLjQwNyAyLjc0MiAzLjE0NS40NGMuOTEuMTI3IDEuMjc1IDEuMjA0LjYxNSAxLjgyMmwtMi4yNzYgMi4xMzQuNTM4IDMuMDE1Yy4xNTUuODcyLS43OTcgMS41MzgtMS42MTIgMS4xMjZMNi41IDExLjQ1MmwtMi44MTMgMS40MjNjLS44MTUuNDEyLTEuNzY3LS4yNTQtMS42MTItMS4xMjZsLjUzOC0zLjAxNUwuMzM3IDYuNmMtLjY2LS42MTgtLjI5Ni0xLjY5NS42MTUtMS44MjJsMy4xNDUtLjQ0IDEuNDA3LTIuNzQyQzUuOTEyLjggNy4wODguOCA3LjQ5NiAxLjU5NiIgZmlsbD0iI0ZGQ0UyMSIgZmlsbC1ydWxlPSJldmVub2RkIi8+Cjwvc3ZnPgo="
                                             alt="">
                                    </li>
                                    <li>
                                        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Im03LjQ5NiAxLjU5NiAxLjQwNyAyLjc0MiAzLjE0NS40NGMuOTEuMTI3IDEuMjc1IDEuMjA0LjYxNSAxLjgyMmwtMi4yNzYgMi4xMzQuNTM4IDMuMDE1Yy4xNTUuODcyLS43OTcgMS41MzgtMS42MTIgMS4xMjZMNi41IDExLjQ1MmwtMi44MTMgMS40MjNjLS44MTUuNDEyLTEuNzY3LS4yNTQtMS42MTItMS4xMjZsLjUzOC0zLjAxNUwuMzM3IDYuNmMtLjY2LS42MTgtLjI5Ni0xLjY5NS42MTUtMS44MjJsMy4xNDUtLjQ0IDEuNDA3LTIuNzQyQzUuOTEyLjggNy4wODguOCA3LjQ5NiAxLjU5NiIgZmlsbD0iI0ZGQ0UyMSIgZmlsbC1ydWxlPSJldmVub2RkIi8+Cjwvc3ZnPgo="
                                             alt="">
                                    </li>
                                </ul>
                                <div>15개의 리뷰</div>
                            </div>
                        </div>
                        <div>
                            <ul class="review-container">

                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="request-price-side">
            <div class="side-wrapper">
                <span th:text="${proUpload.proName}"></span>
                <span>에게 원하는 서비스의 견적을 받아보세요</span>
                <div class="request-price">
                    <span th:text="${proUpload.proUploadPay}-${proUpload.proUploadPayRange}"></span>
                    <span>~</span>
                    <span th:text="${proUpload.proUploadPay}+${proUpload.proUploadPayRange}"></span>
                </div>
                <div class="accept-cancle-btn">
                    <button
                            th:if="${checkRequest == 0}"
                            type="button"
                            id="btn-modal"
                            class="btn-accept">요청하기
                    </button>
                    <button
                            th:unless="${checkRequest == 0}"
                            type="button"
                            class="btn-accept" style="background-color: #9aa0a6">이미 요청 하셨습니다
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!--모달-->
<div id="modal" class="container">
    <div class="container">
        <div class="container">
            <div class="box-container">
                <div class="box-header">견적 요청</div>
                <div class="box-content">
                    <div class="description">
                        <div class="pro-name user-name" th:text="${userLocation.userName}">주현제</div>
                        <div class="address" style="margin-top: 10px;">
                            <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMCAyMGgyMFYwSDB6Ii8+PGcgc3Ryb2tlPSIjNzM3MzczIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiI+PHBhdGggZD0iTTE2LjIxOCA3LjI3NGMwIDQuOTQzLTUuODMzIDEwLjIyNi01LjgzMyAxMC4yMjZTNC41NSAxMi41NDIgNC41NSA3LjI3NGMwLTMuMDk3IDIuNjEyLTUuNjA3IDUuODM0LTUuNjA3IDMuMjIxIDAgNS44MzMgMi41MSA1LjgzMyA1LjYwN3oiLz48cGF0aCBkPSJNMTIuNjI4IDcuOTE3YTIuMDg0IDIuMDg0IDAgMTEtNC4xNjctLjAwMSAyLjA4NCAyLjA4NCAwIDAxNC4xNjcgMHoiLz48L2c+PC9nPjwvc3ZnPg=="
                                 alt="">
                            <span th:text="${userLocation.region} + ' ' + ${userLocation.city}"></span>
                        </div>
                    </div>
                    <form th:action="@{/user/sendUserRequest}"
                          th:object="${userRequest}" name="user_receviemodal" method="post">
                        <input type="hidden" th:value="${proUpload.proUploadId}" name="proUploadId">
                        <div class="title">요청을 보내면 전문가가 수락시 연락처가 공개됩니다.</div>
                        <div class="col underline">
                            <label for="user_receive_modal" class="fontSize15 label">요청 금액 (원)</label>
                            <input type="number" id="user_receive_modal" th:field="*{userRequestPay}" name="price_input"
                                   class="form-control"
                                   placeholder="정확한금액을 입력하세요">
                        </div>
                        <div class="">
                        <textarea class="textarea" maxlength="65536" th:field="*{userRequestContent}"
                                  style="width:100%;height:300px"
                                  placeholder="요청내용을 구체적으로 적으실 수록 전문가의 수락률이 높습니다."></textarea>
                        </div>


                        <!--모달 창 닫음 -->
                        <button type="submit" id="close-modal" class="btn">견적 요청 하기</button>

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
  function formatDate(dateString) {
    const now = new Date();
    const commentDate = new Date(dateString); // 문자열을 Date 객체로 변환

    const nowYear = now.getFullYear();
    const nowMonth = now.getMonth();
    const nowDate = now.getDate();

    const commentYear = commentDate.getFullYear();
    const commentMonth = commentDate.getMonth();
    const commentDateDate = commentDate.getDate();

    let displayText = "";

    // 년, 월, 일이 모두 같은 경우 "오늘"로 표시
    // if (nowYear === commentYear && nowMonth === commentMonth && nowDate === commentDateDate) {
    //     displayText = "오늘";
    // } else {
    // 그 외의 경우, 정해진 포맷으로 표시
    const yy = commentYear.toString().slice(-2); // 마지막 두 자리를 가지고 옴.
    const M = commentMonth + 1; // 월은 0부터 시작하므로 1을 더해줍니다.
    const d = commentDateDate;
    const HH = commentDate.getHours().toString().padStart(2, '0');
    const mm = commentDate.getMinutes().toString().padStart(2, '0'); // 두자리 수 일 때 앞에 0을 붙임.

    displayText = `${yy}.${M}.${d}`;
    // }
    return displayText;
  }

  // 리뷰 가져오기
  $(document).ready(function () {
    console.log('여기는 됨')
    // let boardId = document.querySelector('input[name="boardId"]').value;
    let proId = $('input[name="proId"]').val();
    console.log(proId)
    getReview(proId);
  })

  function getReview(proId) {
    $.ajax({
      method: 'get',
      url: '/proReviews/' + proId,
      success: function (data) {
        let reviewListArea = $('.review-container')

        reviewListArea.empty();

        data.forEach(function (review) {
          let reviewDate = formatDate(review.proReviewDate);


          // 종합적으로 뿌려줄 html
          let reviewElement = `<li>
                                        <div class="reviewr-name">
                                            <span>${review.userName}</span>
                                        </div>
                                        <div class="service-score">
                                            <p>${review.proReviewTitle}</p>
                                            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Im03LjQ5NiAxLjU5NiAxLjQwNyAyLjc0MiAzLjE0NS40NGMuOTEuMTI3IDEuMjc1IDEuMjA0LjYxNSAxLjgyMmwtMi4yNzYgMi4xMzQuNTM4IDMuMDE1Yy4xNTUuODcyLS43OTcgMS41MzgtMS42MTIgMS4xMjZMNi41IDExLjQ1MmwtMi44MTMgMS40MjNjLS44MTUuNDEyLTEuNzY3LS4yNTQtMS42MTItMS4xMjZsLjUzOC0zLjAxNUwuMzM3IDYuNmMtLjY2LS42MTgtLjI5Ni0xLjY5NS42MTUtMS44MjJsMy4xNDUtLjQ0IDEuNDA3LTIuNzQyQzUuOTEyLjggNy4wODguOCA3LjQ5NiAxLjU5NiIgZmlsbD0iI0ZGQ0UyMSIgZmlsbC1ydWxlPSJldmVub2RkIi8+Cjwvc3ZnPgo=" alt="">
                                            <span>${review.proReviewRate}</span>
                                        </div>
                                        <div class="review-content">
                                            <p>${review.proReviewContent}</p>
                                        </div>
                                        <div class="review-date">
                                            <span class="date">${reviewDate}</span>
                                        </div>
                                    </li>`

          reviewListArea.append(reviewElement);
        })
      },
      error: function (data) {
        console.error(data, "불러오기 실패");
      }
    })
  }

  //     모달
  const modal = document.getElementById("modal")

  function modalOn() {
    modal.style.display = "flex"
  }

  function modalOff() {
    modal.style.display = "none"
  }

  // 모달창 보임
  const btnModal = document.getElementById("btn-modal")
  btnModal.addEventListener("click", e => {
    modalOn()
  })
  // 모달창 닫음
  const closeModal = document.getElementById("close-modal")
  closeModal.addEventListener("click", e => {
    modalOff()
  })
</script>
</html>